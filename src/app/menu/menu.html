<!-- MOBILE MENU - Bottom Navigation -->
<nav
    class="md:hidden fixed bottom-0 left-0 right-0 z-30 bg-surface-light border-t border-gray-200 flex justify-around items-center h-20 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]">
    <a class="flex flex-col items-center justify-center text-center text-text-muted-light hover:text-cyan-500 transition w-full"
        (click)="itemActive=1;openLink('/')">
        <span class="material-icons text-3xl" [ngClass]="{ 'gradient-text': itemActive==1 }">event</span>
        <span class="text-xs font-medium" [ngClass]="{ 'gradient-text': itemActive==1 }">Eventos</span>
    </a>
    <a class="flex flex-col items-center justify-center text-center text-text-muted-light hover:text-cyan-500 transition w-full"
        (click)="itemActive=2;openLink('/tickets')">
        <span class="material-icons text-3xl" [ngClass]="{ 'gradient-text': itemActive==2 }">confirmation_number</span>
        <span class="text-xs font-medium" [ngClass]="{ 'gradient-text': itemActive==2 }">Meus Tickets</span>
    </a>
    <button
        class="flex flex-col items-center justify-center text-center text-text-muted-light hover:text-cyan-500 transition w-full"
        (click)="isShownMoremodal=true">
        <span class="material-icons text-3xl" [ngClass]="{ 'gradient-text': itemActive==3 }">more_horiz</span>
        <span class="text-xs font-medium" [ngClass]="{ 'gradient-text': itemActive==3 }">Mais</span>
    </button>
</nav>

@if (isShownMoremodal) {
<div #moremodal class="md:hidden fixed inset-0 z-40 bg-black/50" (click)="isShownMoremodal=!isShownMoremodal"></div>
}

<div class="md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface-light rounded-t-xl p-4 transform translate-y-full transition-transform duration-300 ease-in-out"
    #moremodalcontent [ngClass]="{ 'translate-y-full': !isShownMoremodal, 'translate-y-0': isShownMoremodal }">
    <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-4"></div>
    <ul class="space-y-2">
        <li>
            <a class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition"
                (click)="itemActive=3;openLink('/perfil');isShownMoremodal=false">
                <span class="material-icons gradient-text text-text-muted-light mr-4">person</span>
                <span class="text-text-light font-medium">Perfil</span>
            </a>
        </li>
        @if (isADM) {
        <li>
            <a class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition"
                (click)="itemActive=3;openLink('/hostess');isShownMoremodal=false">
                <span class="material-icons gradient-text text-text-muted-light mr-4">admin_panel_settings</span>
                <span class="text-text-light font-medium">Hostess (Admin)</span>
            </a>
        </li>
        }
        <li>
            <a class="flex items-center p-3 rounded-lg hover:bg-gray-100 transition"
                (click)="itemActive=3;openLink('/sobre-nos');isShownMoremodal=false">
                <span class="material-icons gradient-text text-text-muted-light mr-4">info</span>
                <span class="text-text-light font-medium">Sobre Nós</span>
            </a>
        </li>
    </ul>
</div>

<!-- DESKTOP MENU - Top Navigation -->
<nav
    class="hidden md:flex fixed top-0 left-0 right-0 z-30 bg-surface-light border-b border-gray-200 h-16 shadow-[0_2px_10px_rgba(0,0,0,0.1)] items-center px-6 justify-between">
    <div class="flex items-center gap-2">
        <img alt="Logo Videira" class="h-8" src="imagens/icon.png" />
        <div class="flex flex-col items-start pl-2">
            <h1 class="text-xl font-semibold text-text-muted drop-shadow-lg">Igreja Videira</h1>
            <p class="text-sm text-text-muted drop-shadow-md">Santo André</p>
        </div>
    </div>

    <div class="flex items-center gap-8">
        <a class="text-text-light hover:text-cyan-500 transition font-medium" (click)="itemActive=1;openLink('/')"
            [ngClass]="{ 'gradient-text': itemActive==1 }">
            Eventos
        </a>
        <a class="text-text-light hover:text-cyan-500 transition font-medium"
            (click)="itemActive=2;openLink('/tickets')" [ngClass]="{ 'gradient-text': itemActive==2 }">
            Meus Tickets
        </a>

        <!-- Dropdown Menu -->
        <div class="relative group">
            <button class="text-text-light hover:text-cyan-500 transition font-medium flex items-center gap-1"
                [ngClass]="{ 'gradient-text': itemActive==3 }">
                <span>Mais</span>
                <span class="material-icons text-xl">expand_more</span>
            </button>
            <div
                class="absolute right-0 mt-0 w-56 bg-surface-light border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                <a class="flex items-center p-3 hover:bg-gray-100 transition text-text-light"
                    (click)="itemActive=3;openLink('/perfil')">
                    <span class="material-icons text-sm mr-2">person</span>
                    <span class="text-sm">Perfil</span>
                </a>
                @if (isADM) {
                <a class="flex items-center p-3 hover:bg-gray-100 transition text-text-light"
                    (click)="itemActive=3;openLink('/hostess')">
                    <span class="material-icons text-sm mr-2">admin_panel_settings</span>
                    <span class="text-sm">Hostess (Admin)</span>
                </a>
                }
                <a class="flex items-center p-3 hover:bg-gray-100 transition text-text-light"
                    (click)="itemActive=3;openLink('/sobre-nos')">
                    <span class="material-icons text-sm mr-2">info</span>
                    <span class="text-sm">Sobre Nós</span>
                </a>
            </div>
        </div>

        @if (nome) {
        <button
            class="flex items-center space-x-2 px-4 py-1 rounded-full text-sm border border-gray-300/50 text-text-light hover:bg-gray-500 hover:text-white transition"
            (click)="perfil()">
            <span>{{nome}}</span>
            <img class="h-8 w-8" [src]="foto" />
        </button>
        }@else {
        <button
            class="flex items-center space-x-2 px-4 py-1 rounded-full text-sm border border-gray-300/50 text-text-light hover:bg-gray-500 hover:text-white transition"
            (click)="perfil()">
            <span>Login</span>
            <span class="material-icons text-lg">person_outline</span>
        </button>
        }
    </div>
</nav>